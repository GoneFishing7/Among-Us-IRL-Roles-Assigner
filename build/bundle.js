var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function c(t,n){t.appendChild(n)}function l(t,n,e){t.insertBefore(n,e||null)}function u(t){t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function f(){return a(" ")}function d(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function p(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function m(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function $(t,n){t.value=null==n?"":n}let h;function g(t){h=t}function v(){if(!h)throw new Error("Function called outside component initialization");return h}function y(){const t=v();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const r=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach((n=>{n.call(t,r)}))}}}const b=[],x=[],_=[],w=[],k=Promise.resolve();let C=!1;function E(t){_.push(t)}let O=!1;const A=new Set;function P(){if(!O){O=!0;do{for(let t=0;t<b.length;t+=1){const n=b[t];g(n),R(n.$$)}for(g(null),b.length=0;x.length;)x.pop()();for(let t=0;t<_.length;t+=1){const n=_[t];A.has(n)||(A.add(n),n())}_.length=0}while(b.length);for(;w.length;)w.pop()();C=!1,O=!1,A.clear()}}function R(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(E)}}const M=new Set;let j;function L(){j={r:0,c:[],p:j}}function N(){j.r||o(j.c),j=j.p}function z(t,n){t&&t.i&&(M.delete(t),t.i(n))}function S(t,n,e,o){if(t&&t.o){if(M.has(t))return;M.add(t),j.c.push((()=>{M.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function T(t){t&&t.c()}function q(t,e,i){const{fragment:c,on_mount:l,on_destroy:u,after_update:s}=t.$$;c&&c.m(e,i),E((()=>{const e=l.map(n).filter(r);u?u.push(...e):o(e),t.$$.on_mount=[]})),s.forEach(E)}function B(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function F(t,n){-1===t.$$.dirty[0]&&(b.push(t),C||(C=!0,k.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function H(n,r,i,c,l,s,a=[-1]){const f=h;g(n);const d=r.props||{},p=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:l,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:e(),dirty:a,skip_bound:!1};let m=!1;if(p.ctx=i?i(n,d,((t,e,...o)=>{const r=o.length?o[0]:e;return p.ctx&&l(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),m&&F(n,t)),e})):[],p.update(),m=!0,o(p.before_update),p.fragment=!!c&&c(p.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);p.fragment&&p.fragment.l(t),t.forEach(u)}else p.fragment&&p.fragment.c();r.intro&&z(n.$$.fragment),q(n,r.target,r.anchor),P()}g(f)}class X{$destroy(){B(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Y(t,n,e){const o=t.slice();return o[8]=n[e].name,o[9]=n,o[10]=e,o}function D(t){let n,e,r,i,a,m,h,g;function v(){t[3].call(e,t[9],t[10])}function y(){return t[4](t[10])}return{c(){n=s("div"),e=s("input"),i=f(),a=s("button"),a.textContent="X",m=f(),p(e,"placeholder",r=t[8]),p(e,"type","text"),p(a,"class","remove-button svelte-sy8ddf"),p(n,"class","row svelte-sy8ddf")},m(o,r){l(o,n,r),c(n,e),$(e,t[8]),c(n,i),c(n,a),c(n,m),h||(g=[d(e,"input",v),d(a,"click",y)],h=!0)},p(n,o){t=n,1&o&&r!==(r=t[8])&&p(e,"placeholder",r),1&o&&e.value!==t[8]&&$(e,t[8])},d(t){t&&u(n),h=!1,o(g)}}}function G(n){let e,o,r,i,a,m=n[0],$=[];for(let t=0;t<m.length;t+=1)$[t]=D(Y(n,m,t));return{c(){e=s("div"),o=s("button"),o.textContent="Add",r=f();for(let t=0;t<$.length;t+=1)$[t].c();p(o,"class","add-player-button svelte-sy8ddf"),p(e,"class","col svelte-sy8ddf")},m(t,u){l(t,e,u),c(e,o),c(e,r);for(let t=0;t<$.length;t+=1)$[t].m(e,null);i||(a=d(o,"click",n[1]),i=!0)},p(t,[n]){if(5&n){let o;for(m=t[0],o=0;o<m.length;o+=1){const r=Y(t,m,o);$[o]?$[o].p(r,n):($[o]=D(r),$[o].c(),$[o].m(e,null))}for(;o<$.length;o+=1)$[o].d(1);$.length=m.length}},i:t,o:t,d(t){t&&u(e),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}($,t),i=!1,a()}}}function I(t,n,e){var o=this&&this.__awaiter||function(t,n,e,o){return new(e||(e=Promise))((function(r,i){function c(t){try{u(o.next(t))}catch(t){i(t)}}function l(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,l)}u((o=o.apply(t,n||[])).next())}))};const r=y();let i=Array(5).fill({name:"Player"}).map((({name:t},n)=>({name:t+" #"+(n+1)})));var c;function l(t){e(0,i=i.length<4?i:[...i.slice(0,t),...i.slice(t+1)])}function u(t){r("updatePlayers",t)}c=()=>o(void 0,void 0,void 0,(function*(){u(i)})),v().$$.on_mount.push(c);return t.$$.update=()=>{1&t.$$.dirty&&u(i)},[i,function(){e(0,i=i.length>20?i:[...i,{name:"Player #"+(i.length+1)}])},l,function(t,n){t[n].name=this.value,e(0,i)},t=>{l(t)}]}class J extends X{constructor(t){super(),H(this,t,I,G,i,{})}}function K(n){let e,o,r,i,a,m,$;return o=new J({}),o.$on("updatePlayers",n[0]),{c(){e=s("div"),T(o.$$.fragment),r=f(),i=s("button"),i.textContent="Continue",p(i,"class","svelte-s55u54"),p(e,"class","svelte-s55u54")},m(t,u){l(t,e,u),q(o,e,null),c(e,r),c(e,i),a=!0,m||($=d(i,"click",n[1]),m=!0)},p:t,i(t){a||(z(o.$$.fragment,t),a=!0)},o(t){S(o.$$.fragment,t),a=!1},d(t){t&&u(e),B(o),m=!1,$()}}}function Q(t,n,e){const o=y();let{initialOptions:r={gameMode:"default",players:[]}}=n,i=r;return t.$$set=t=>{"initialOptions"in t&&e(2,r=t.initialOptions)},[function(t){console.log(t.detail),i.players=t.detail},function(){o("submit",i)},r]}class U extends X{constructor(t){super(),H(this,t,Q,K,i,{initialOptions:2})}}var V=["a","e","i","o","u"];var W=function(t){return!!~V.indexOf(t)};function Z(t){let n,e,o,r,i,p,$,h,g,v,y,b,x=W(t[1][0])?"an":"a";return{c(){n=s("div"),e=a("You are "),o=a(x),r=f(),i=a(t[1]),p=a(", "),$=a(t[0]),h=a("!"),g=f(),v=s("button"),v.textContent="Click this once you have read and memorized your role"},m(u,s){l(u,n,s),c(n,e),c(n,o),c(n,r),c(n,i),c(n,p),c(n,$),c(n,h),l(u,g,s),l(u,v,s),y||(b=d(v,"click",t[4]),y=!0)},p(t,n){2&n&&x!==(x=W(t[1][0])?"an":"a")&&m(o,x),2&n&&m(i,t[1]),1&n&&m($,t[0])},d(t){t&&u(n),t&&u(g),t&&u(v),y=!1,b()}}}function tt(t){let n,e,o,r,i,p,$,h;return{c(){n=s("div"),e=a("Hello, "),o=a(t[0]),r=a("!"),i=f(),p=s("button"),p.textContent="Reveal Role"},m(u,s){l(u,n,s),c(n,e),c(n,o),c(n,r),l(u,i,s),l(u,p,s),$||(h=d(p,"click",t[3]),$=!0)},p(t,n){1&n&&m(o,t[0])},d(t){t&&u(n),t&&u(i),t&&u(p),$=!1,h()}}}function nt(n){let e;function o(t,n){return"preReveal"===t[2]?tt:"reveal"===t[2]?Z:void 0}let r=o(n),i=r&&r(n);return{c(){e=s("div"),i&&i.c()},m(t,n){l(t,e,n),i&&i.m(e,null)},p(t,[n]){r===(r=o(t))&&i?i.p(t,n):(i&&i.d(1),i=r&&r(t),i&&(i.c(),i.m(e,null)))},i:t,o:t,d(t){t&&u(e),i&&i.d()}}}function et(t,n,e){let{name:o}=n,{role:r}=n;const i=y();let c="preReveal";return t.$$set=t=>{"name"in t&&e(0,o=t.name),"role"in t&&e(1,r=t.role)},[o,r,c,function(){e(2,c="reveal")},function(){e(2,c="preReveal"),i("finished")}]}class ot extends X{constructor(t){super(),H(this,t,et,nt,i,{name:0,role:1})}}function rt(n){let e;return{c(){e=s("p"),e.textContent="Loading...",p(e,"class","svelte-s55u54")},m(t,n){l(t,e,n)},p:t,i:t,o:t,d(t){t&&u(e)}}}function it(t){let n,e;return n=new ot({props:{name:t[2][t[1]].name,role:t[2][t[1]].role}}),n.$on("finished",t[4]),{c(){T(n.$$.fragment)},m(t,o){q(n,t,o),e=!0},p(t,e){const o={};6&e&&(o.name=t[2][t[1]].name),6&e&&(o.role=t[2][t[1]].role),n.$set(o)},i(t){e||(z(n.$$.fragment,t),e=!0)},o(t){S(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function ct(t){let n,e,o,r;const i=[it,rt],c=[];function a(t,n){return"revealing"===t[0]?0:1}return e=a(t),o=c[e]=i[e](t),{c(){n=s("div"),o.c(),p(n,"class","svelte-s55u54")},m(t,o){l(t,n,o),c[e].m(n,null),r=!0},p(t,[r]){let l=e;e=a(t),e===l?c[e].p(t,r):(L(),S(c[l],1,1,(()=>{c[l]=null})),N(),o=c[e],o?o.p(t,r):(o=c[e]=i[e](t),o.c()),z(o,1),o.m(n,null))},i(t){r||(z(o),r=!0)},o(t){S(o),r=!1},d(t){t&&u(n),c[e].d()}}}function lt(t,n,e){let{options:o}=n;const r=y();let i="revealing",c=0;let l;return t.$$set=t=>{"options"in t&&e(3,o=t.options)},t.$$.update=()=>{8&t.$$.dirty&&e(2,l=function(t,n="default"){let e;if("default"===n){let n=Math.floor(Math.random()*t.length);return e="crewmate",t.map(((t,e)=>({name:t.name,role:e===n?"imposter":"crewmate"})))}return[]}(o.players,"default")),1&t.$$.dirty&&"postreveal"===i&&r("finished")},[i,c,l,o,()=>{c>=l.length-1?e(0,i="postreveal"):e(1,c++,c)}]}class ut extends X{constructor(t){super(),H(this,t,lt,ct,i,{options:3})}}function st(t){let n,e;return n=new ut({props:{options:t[1]}}),n.$on("finished",t[3]),{c(){T(n.$$.fragment)},m(t,o){q(n,t,o),e=!0},p(t,e){const o={};2&e&&(o.options=t[1]),n.$set(o)},i(t){e||(z(n.$$.fragment,t),e=!0)},o(t){S(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function at(n){let e,o;return e=new U({props:{initialOptions:{}}}),e.$on("submit",n[2]),{c(){T(e.$$.fragment)},m(t,n){q(e,t,n),o=!0},p:t,i(t){o||(z(e.$$.fragment,t),o=!0)},o(t){S(e.$$.fragment,t),o=!1},d(t){B(e,t)}}}function ft(t){let n,e,o,r;const i=[at,st],c=[];function a(t,n){return"options"===t[0]?0:1}return e=a(t),o=c[e]=i[e](t),{c(){n=s("main"),o.c(),p(n,"class","svelte-1i8c121")},m(t,o){l(t,n,o),c[e].m(n,null),r=!0},p(t,[r]){let l=e;e=a(t),e===l?c[e].p(t,r):(L(),S(c[l],1,1,(()=>{c[l]=null})),N(),o=c[e],o?o.p(t,r):(o=c[e]=i[e](t),o.c()),z(o,1),o.m(n,null))},i(t){r||(z(o),r=!0)},o(t){S(o),r=!1},d(t){t&&u(n),c[e].d()}}}function dt(t,n,e){let o="options",r={};return[o,r,t=>{e(1,r=t.detail),e(0,o="reveal")},()=>{e(0,o="options")}]}return new class extends X{constructor(t){super(),H(this,t,dt,ft,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
