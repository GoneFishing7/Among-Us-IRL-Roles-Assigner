var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(n,e,r){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}(e,r))}function i(t,e,r,o){return t[1]&&o?n(r.ctx.slice(),t[1](o(e))):r.ctx}function a(t,n,e,r,o,l,c){const s=function(t,n,e,r){if(t[2]&&r){const o=t[2](r(e));if(void 0===n.dirty)return o;if("object"==typeof o){const t=[],e=Math.max(n.dirty.length,o.length);for(let r=0;r<e;r+=1)t[r]=n.dirty[r]|o[r];return t}return n.dirty|o}return n.dirty}(n,r,o,l);if(s){const o=i(n,e,r,c);t.p(o,s)}}function u(t,n){t.appendChild(n)}function f(t,n,e){t.insertBefore(n,e||null)}function m(t){t.parentNode.removeChild(t)}function p(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function d(t){return document.createElement(t)}function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function h(){return g(" ")}function y(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function v(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function b(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function x(t,n){t.value=null==n?"":n}function k(t,n,e,r){t.style.setProperty(n,e,r?"important":"")}function w(t,n,e){t.classList[e?"add":"remove"](n)}let O;function C(t){O=t}function j(){if(!O)throw new Error("Function called outside component initialization");return O}function z(){const t=j();return(n,e)=>{const r=t.$$.callbacks[n];if(r){const o=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);r.slice().forEach((n=>{n.call(t,o)}))}}}function M(t,n){const e=t.$$.callbacks[n.type];e&&e.slice().forEach((t=>t(n)))}const _=[],E=[],A=[],R=[],q=Promise.resolve();let S=!1;function N(t){A.push(t)}let L=!1;const X=new Set;function F(){if(!L){L=!0;do{for(let t=0;t<_.length;t+=1){const n=_[t];C(n),P(n.$$)}for(C(null),_.length=0;E.length;)E.pop()();for(let t=0;t<A.length;t+=1){const n=A[t];X.has(n)||(X.add(n),n())}A.length=0}while(_.length);for(;R.length;)R.pop()();S=!1,L=!1,X.clear()}}function P(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(N)}}const T=new Set;let Y;function H(){Y={r:0,c:[],p:Y}}function U(){Y.r||o(Y.c),Y=Y.p}function B(t,n){t&&t.i&&(T.delete(t),t.i(n))}function D(t,n,e,r){if(t&&t.o){if(T.has(t))return;T.add(t),Y.c.push((()=>{T.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function G(t,n){D(t,1,1,(()=>{n.delete(t.key)}))}function I(t){t&&t.c()}function J(t,n,r){const{fragment:c,on_mount:s,on_destroy:i,after_update:a}=t.$$;c&&c.m(n,r),N((()=>{const n=s.map(e).filter(l);i?i.push(...n):o(n),t.$$.on_mount=[]})),a.forEach(N)}function K(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function Q(t,n){-1===t.$$.dirty[0]&&(_.push(t),S||(S=!0,q.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function V(n,e,l,c,s,i,a=[-1]){const u=O;C(n);const f=e.props||{},p=n.$$={fragment:null,ctx:null,props:i,update:t,not_equal:s,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:a,skip_bound:!1};let d=!1;if(p.ctx=l?l(n,f,((t,e,...r)=>{const o=r.length?r[0]:e;return p.ctx&&s(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),d&&Q(n,t)),e})):[],p.update(),d=!0,o(p.before_update),p.fragment=!!c&&c(p.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);p.fragment&&p.fragment.l(t),t.forEach(m)}else p.fragment&&p.fragment.c();e.intro&&B(n.$$.fragment),J(n,e.target,e.anchor),F()}C(u)}class W{$destroy(){K(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Z=[];const tt=function(n,e=t){let r;const o=[];function l(t){if(c(n,t)&&(n=t,r)){const t=!Z.length;for(let t=0;t<o.length;t+=1){const e=o[t];e[1](),Z.push(e,n)}if(t){for(let t=0;t<Z.length;t+=2)Z[t][0](Z[t+1]);Z.length=0}}}return{set:l,update:function(t){l(t(n))},subscribe:function(c,s=t){const i=[c,s];return o.push(i),1===o.length&&(r=e(l)||t),c(n),()=>{const t=o.indexOf(i);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}({players:new Array(5).fill({name:"",color:0}).map(((t,n)=>({name:"",color:n}))),gameMode:"default"});function nt(t){let n,e,r,l;const c=t[6].default,s=function(t,n,e,r){if(t){const o=i(t,n,e,r);return t[0](o)}}(c,t,t[5],null);return{c(){n=d("button"),s&&s.c(),v(n,"class","svelte-9kzc7g"),w(n,"center",t[2]),w(n,"small",t[0]),w(n,"no-outline",t[1]),w(n,"bottom-right",t[3]),w(n,"small-cursive",t[4])},m(o,c){f(o,n,c),s&&s.m(n,null),e=!0,r||(l=[y(n,"click",t[7]),y(n,"mouseenter",t[8])],r=!0)},p(t,[e]){s&&s.p&&32&e&&a(s,c,t,t[5],e,null,null),4&e&&w(n,"center",t[2]),1&e&&w(n,"small",t[0]),2&e&&w(n,"no-outline",t[1]),8&e&&w(n,"bottom-right",t[3]),16&e&&w(n,"small-cursive",t[4])},i(t){e||(B(s,t),e=!0)},o(t){D(s,t),e=!1},d(t){t&&m(n),s&&s.d(t),r=!1,o(l)}}}function et(t,n,e){let{$$slots:r={},$$scope:o}=n,{small:l=!1}=n,{noOutline:c=!1}=n,{center:s=!1}=n,{bottomRight:i=!1}=n,{smallCursive:a=!1}=n;return t.$$set=t=>{"small"in t&&e(0,l=t.small),"noOutline"in t&&e(1,c=t.noOutline),"center"in t&&e(2,s=t.center),"bottomRight"in t&&e(3,i=t.bottomRight),"smallCursive"in t&&e(4,a=t.smallCursive),"$$scope"in t&&e(5,o=t.$$scope)},[l,c,s,i,a,o,r,function(n){M(t,n)},function(n){M(t,n)}]}class rt extends W{constructor(t){super(),V(this,t,et,nt,c,{small:0,noOutline:1,center:2,bottomRight:3,smallCursive:4})}}function ot(n){let e,r,o;return{c(){e=d("input"),v(e,"type","text"),v(e,"class","svelte-1lqpb6n"),w(e,"small",n[1])},m(t,l){f(t,e,l),x(e,n[0]),r||(o=y(e,"input",n[2]),r=!0)},p(t,[n]){1&n&&e.value!==t[0]&&x(e,t[0]),2&n&&w(e,"small",t[1])},i:t,o:t,d(t){t&&m(e),r=!1,o()}}}function lt(t,n,e){let{small:r=!1}=n,{value:o}=n;return t.$$set=t=>{"small"in t&&e(1,r=t.small),"value"in t&&e(0,o=t.value)},[o,r,function(){o=this.value,e(0,o)}]}class ct extends W{constructor(t){super(),V(this,t,lt,ot,c,{small:1,value:0})}}const st=["black","blue","brown","cyan","green","lime","orange","pink","purple","red","white","yellow"],it=()=>at(st,1)[0];function at(t,n){var e=new Array(n),r=t.length,o=new Array(r);if(n>r)throw new RangeError("getRandom: more elements taken than available");for(;n--;){var l=Math.floor(Math.random()*r);e[n]=t[l in o?o[l]:l],o[l]=--r in o?o[r]:r}return e}function ut(t,n){return e=t,[...Array(n-e+1).keys()].map((t=>t+e));var e}function ft(n){let e,r,o,l;return{c(){e=d("button"),v(e,"class","color-chooser svelte-1smk96h"),v(e,"style",r=`background-image: url(img/players/${st[n[0]]}.png)`)},m(t,r){f(t,e,r),o||(l=y(e,"click",n[2]),o=!0)},p(t,[n]){1&n&&r!==(r=`background-image: url(img/players/${st[t[0]]}.png)`)&&v(e,"style",r)},i:t,o:t,d(t){t&&m(e),o=!1,l()}}}function mt(t,n,e){const r=z();let{color:o=0}=n;function l(){r("updateColor")}return t.$$set=t=>{"color"in t&&e(0,o=t.color)},[o,l,()=>{l()}]}class pt extends W{constructor(t){super(),V(this,t,mt,ft,c,{color:0})}}function dt(t,n,e){const r=t.slice();return r[10]=n[e],r[11]=n,r[12]=e,r}function $t(t){let n;return{c(){n=g("Add Player")},m(t,e){f(t,n,e)},d(t){t&&m(n)}}}function gt(t){let n;return{c(){n=g("X")},m(t,e){f(t,n,e)},d(t){t&&m(n)}}}function ht(t,n){let e,r,o,l,c,s,i,a,p;function $(t){n[4].call(null,t,n[10])}let g={small:!0};return void 0!==n[10].name&&(g.value=n[10].name),r=new ct({props:g}),E.push((()=>function(t,n,e){const r=t.$$.props[n];void 0!==r&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}(r,"value",$))),c=new pt({props:{color:n[10].color}}),c.$on("updateColor",(function(){return n[5](n[12])})),i=new rt({props:{noOutline:!0,smallCursive:!0,$$slots:{default:[gt]},$$scope:{ctx:n}}}),i.$on("click",(function(){return n[6](n[12])})),{key:t,first:null,c(){e=d("div"),I(r.$$.fragment),l=h(),I(c.$$.fragment),s=h(),I(i.$$.fragment),a=h(),v(e,"class","row svelte-6kp3jn"),this.first=e},m(t,n){f(t,e,n),J(r,e,null),u(e,l),J(c,e,null),u(e,s),J(i,e,null),u(e,a),p=!0},p(t,e){n=t;const l={};var s;!o&&1&e&&(o=!0,l.value=n[10].name,s=()=>o=!1,R.push(s)),r.$set(l);const a={};1&e&&(a.color=n[10].color),c.$set(a);const u={};8192&e&&(u.$$scope={dirty:e,ctx:n}),i.$set(u)},i(t){p||(B(r.$$.fragment,t),B(c.$$.fragment,t),B(i.$$.fragment,t),p=!0)},o(t){D(r.$$.fragment,t),D(c.$$.fragment,t),D(i.$$.fragment,t),p=!1},d(t){t&&m(e),K(r),K(c),K(i)}}}function yt(t){let n,e,r,o,l=[],c=new Map;e=new rt({props:{center:!0,smallCursive:!0,$$slots:{default:[$t]},$$scope:{ctx:t}}}),e.$on("click",t[1]);let s=t[0].players;const i=t=>t[12];for(let n=0;n<s.length;n+=1){let e=dt(t,s,n),r=i(e);c.set(r,l[n]=ht(r,e))}return{c(){n=d("div"),I(e.$$.fragment),r=h();for(let t=0;t<l.length;t+=1)l[t].c();v(n,"class","col svelte-6kp3jn")},m(t,c){f(t,n,c),J(e,n,null),u(n,r);for(let t=0;t<l.length;t+=1)l[t].m(n,null);o=!0},p(t,[r]){const o={};if(8192&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o),13&r){const e=t[0].players;H(),l=function(t,n,e,r,o,l,c,s,i,a,u,f){let m=t.length,p=l.length,d=m;const $={};for(;d--;)$[t[d].key]=d;const g=[],h=new Map,y=new Map;for(d=p;d--;){const t=f(o,l,d),s=e(t);let i=c.get(s);i?r&&i.p(t,n):(i=a(s,t),i.c()),h.set(s,g[d]=i),s in $&&y.set(s,Math.abs(d-$[s]))}const v=new Set,b=new Set;function x(t){B(t,1),t.m(s,u),c.set(t.key,t),u=t.first,p--}for(;m&&p;){const n=g[p-1],e=t[m-1],r=n.key,o=e.key;n===e?(u=n.first,m--,p--):h.has(o)?!c.has(r)||v.has(r)?x(n):b.has(o)?m--:y.get(r)>y.get(o)?(b.add(r),x(n)):(v.add(o),m--):(i(e,c),m--)}for(;m--;){const n=t[m];h.has(n.key)||i(n,c)}for(;p;)x(g[p-1]);return g}(l,r,i,1,t,e,c,n,G,ht,null,dt),U()}},i(t){if(!o){B(e.$$.fragment,t);for(let t=0;t<s.length;t+=1)B(l[t]);o=!0}},o(t){D(e.$$.fragment,t);for(let t=0;t<l.length;t+=1)D(l[t]);o=!1},d(t){t&&m(n),K(e);for(let t=0;t<l.length;t+=1)l[t].d()}}}function vt(t,n,e){let r;function o(t){r.players.length<=3||tt.update((n=>Object.assign(Object.assign({},n),{players:[...n.players.slice(0,t),...n.players.slice(t+1)]})))}function l(t){tt.update((n=>{return Object.assign(Object.assign({},n),{players:[...n.players.slice(0,t),Object.assign(Object.assign({},n.players[t]),{color:c().length>2?(e=n.players[t].color,c()[[...c(),e].sort(((t,n)=>t-n)).indexOf(e)%c().length]):n.players[t].color}),...n.players.slice(t+1)]});var e}))}function c(){return ut(0,st.length).filter((t=>!r.players.map((t=>t.color)).includes(t)))}s(t,tt,(t=>e(0,r=t)));return[r,function(){r.players.length>=10||tt.update((t=>{return Object.assign(Object.assign({},t),{players:[...t.players,{name:"",color:(null===(n=c())||void 0===n?void 0:n[0])||0}]});var n}))},o,l,function(t,n){n.name=t,tt.set(r)},t=>{l(t)},t=>{o(t)}]}class bt extends W{constructor(t){super(),V(this,t,vt,yt,c,{})}}function xt(t,n,e){const r=t.slice();return r[2]=n[e],r}function kt(t,n,e){const r=t.slice();return r[5]=n[e],r}function wt(t){let n,e,r,o;return{c(){n=d("span"),e=$("svg"),r=$("circle"),o=h(),v(r,"cx","5"),v(r,"cy","5"),v(r,"r","4"),v(r,"stroke","white"),v(r,"fill","white"),v(e,"width","10"),v(e,"height","10"),k(n,"left",t[5].x+"%"),k(n,"top",t[5].y+"%"),k(n,"transform","scale("+t[5].z+")"),v(n,"class","svelte-1q3mkec")},m(t,l){f(t,n,l),u(n,e),u(e,r),u(n,o)},p(t,e){1&e&&k(n,"left",t[5].x+"%"),1&e&&k(n,"top",t[5].y+"%"),1&e&&k(n,"transform","scale("+t[5].z+")")},d(t){t&&m(n)}}}function Ot(t){let n;return{c(){n=d("span"),v(n,"class","floater svelte-1q3mkec"),k(n,"left",t[2].x+"%"),k(n,"top",t[2].y+"%"),k(n,"transform","scale("+t[2].z+") rotate("+t[2].r+"deg)"),k(n,"background-image","url(img/players/"+t[2].c+".png)"),k(n,"background-size","contain")},m(t,e){f(t,n,e)},p(t,e){2&e&&k(n,"left",t[2].x+"%"),2&e&&k(n,"top",t[2].y+"%"),2&e&&k(n,"transform","scale("+t[2].z+") rotate("+t[2].r+"deg)"),2&e&&k(n,"background-image","url(img/players/"+t[2].c+".png)")},d(t){t&&m(n)}}}function Ct(n){let e,r,o,l,c=n[0],s=[];for(let t=0;t<c.length;t+=1)s[t]=wt(kt(n,c,t));let i=n[1],a=[];for(let t=0;t<i.length;t+=1)a[t]=Ot(xt(n,i,t));return{c(){e=d("div"),r=d("div");for(let t=0;t<s.length;t+=1)s[t].c();o=h(),l=d("div");for(let t=0;t<a.length;t+=1)a[t].c();v(r,"class","stars"),v(l,"class","floaters"),v(e,"class","background svelte-1q3mkec")},m(t,n){f(t,e,n),u(e,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);u(e,o),u(e,l);for(let t=0;t<a.length;t+=1)a[t].m(l,null)},p(t,[n]){if(1&n){let e;for(c=t[0],e=0;e<c.length;e+=1){const o=kt(t,c,e);s[e]?s[e].p(o,n):(s[e]=wt(o),s[e].c(),s[e].m(r,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=c.length}if(2&n){let e;for(i=t[1],e=0;e<i.length;e+=1){const r=xt(t,i,e);a[e]?a[e].p(r,n):(a[e]=Ot(r),a[e].c(),a[e].m(l,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=i.length}},i:t,o:t,d(t){t&&m(e),p(s,t),p(a,t)}}}function jt(t,n,e){let r=new Array(100).fill({x:0,y:0,z:0}).map(((t,n)=>({x:200*Math.random()-100,y:100*Math.random(),z:.1+1*Math.random()}))).sort(((t,n)=>t.z-n.z)),o=new Array(10).fill({x:0,y:0,z:0,r:0,t:0,c:""}).map((()=>({x:200*Math.random()-100,y:100*Math.random(),z:2*Math.random()+.1,r:360*Math.random()-180,t:90*Math.random()-45,c:it()}))).sort(((t,n)=>t.z-n.z));var l;return l=()=>{let t;return function n(){t=requestAnimationFrame(n),e(0,r=r.map((t=>(t.x+=.6*t.z,t.x>120&&(t.x=-20),t)))),e(1,o=o.map((t=>(t.x+=.2*t.z,t.r+=.1*t.t,t.x>120&&(t=Object.assign(Object.assign({},t),{x:-20,y:100*Math.random(),r:360*Math.random()-180,t:90*Math.random()-45,c:it()})),t))))}(),()=>cancelAnimationFrame(t)},j().$$.on_mount.push(l),[r,o]}class zt extends W{constructor(t){super(),V(this,t,jt,Ct,c,{})}}function Mt(t){let n;return{c(){n=g("Then continue")},m(t,e){f(t,n,e)},d(t){t&&m(n)}}}function _t(t){let n,e,r,o,l,c,s,i,a;return o=new zt({}),c=new bt({}),i=new rt({props:{$$slots:{default:[Mt]},$$scope:{ctx:t}}}),i.$on("click",t[0]),{c(){n=d("div"),e=d("div"),e.textContent="Enter the names of each player here:",r=h(),I(o.$$.fragment),l=h(),I(c.$$.fragment),s=h(),I(i.$$.fragment),v(n,"class","main svelte-rzrsii")},m(t,m){f(t,n,m),u(n,e),u(n,r),J(o,n,null),u(n,l),J(c,n,null),u(n,s),J(i,n,null),a=!0},p(t,[n]){const e={};4&n&&(e.$$scope={dirty:n,ctx:t}),i.$set(e)},i(t){a||(B(o.$$.fragment,t),B(c.$$.fragment,t),B(i.$$.fragment,t),a=!0)},o(t){D(o.$$.fragment,t),D(c.$$.fragment,t),D(i.$$.fragment,t),a=!1},d(t){t&&m(n),K(o),K(c),K(i)}}}function Et(t){const n=z();return[function(){n("submit")}]}class At extends W{constructor(t){super(),V(this,t,Et,_t,c,{})}}function Rt(t,n,e){const r=t.slice();return r[10]=n[e],r}function qt(t){let n,e,r,o,l,c,s,i,a,$,y,x,w=t[1].slice(0,1).toUpperCase()+t[1].slice(1)+"";function O(t,n){return t[0]?Lt:Nt}let C=O(t),j=C(t),z=t[4],M=[];for(let n=0;n<z.length;n+=1)M[n]=Xt(Rt(t,z,n));return y=new rt({props:{bottomRight:!0,$$slots:{default:[Ft]},$$scope:{ctx:t}}}),y.$on("click",t[6]),{c(){n=d("div"),e=d("div"),r=g(w),l=h(),c=d("div"),s=d("span"),j.c(),i=h();for(let t=0;t<M.length;t+=1)M[t].c();$=h(),I(y.$$.fragment),v(e,"class",o="role "+t[1]+" svelte-19boym8"),v(s,"class","name svelte-19boym8"),v(c,"class","player svelte-19boym8"),k(c,"background-image","url(img/players/"+st[t[2]]+".png)"),v(n,"class",a="reveal "+t[1]+" svelte-19boym8")},m(t,o){f(t,n,o),u(n,e),u(e,r),u(n,l),u(n,c),u(c,s),j.m(s,null),u(n,i);for(let t=0;t<M.length;t+=1)M[t].m(n,null);f(t,$,o),J(y,t,o),x=!0},p(t,l){if((!x||2&l)&&w!==(w=t[1].slice(0,1).toUpperCase()+t[1].slice(1)+"")&&b(r,w),(!x||2&l&&o!==(o="role "+t[1]+" svelte-19boym8"))&&v(e,"class",o),C===(C=O(t))&&j?j.p(t,l):(j.d(1),j=C(t),j&&(j.c(),j.m(s,null))),(!x||4&l)&&k(c,"background-image","url(img/players/"+st[t[2]]+".png)"),16&l){let e;for(z=t[4],e=0;e<z.length;e+=1){const r=Rt(t,z,e);M[e]?M[e].p(r,l):(M[e]=Xt(r),M[e].c(),M[e].m(n,null))}for(;e<M.length;e+=1)M[e].d(1);M.length=z.length}(!x||2&l&&a!==(a="reveal "+t[1]+" svelte-19boym8"))&&v(n,"class",a);const i={};8192&l&&(i.$$scope={dirty:l,ctx:t}),y.$set(i)},i(t){x||(B(y.$$.fragment,t),x=!0)},o(t){D(y.$$.fragment,t),x=!1},d(t){t&&m(n),j.d(),p(M,t),t&&m($),K(y,t)}}}function St(t){let n,e,r,o;function l(t,n){return t[0]?Tt:Pt}let c=l(t),s=c(t);return r=new rt({props:{$$slots:{default:[Yt]},$$scope:{ctx:t}}}),r.$on("click",t[5]),{c(){n=d("div"),s.c(),e=h(),I(r.$$.fragment)},m(t,l){f(t,n,l),s.m(n,null),f(t,e,l),J(r,t,l),o=!0},p(t,e){c===(c=l(t))&&s?s.p(t,e):(s.d(1),s=c(t),s&&(s.c(),s.m(n,null)));const o={};8192&e&&(o.$$scope={dirty:e,ctx:t}),r.$set(o)},i(t){o||(B(r.$$.fragment,t),o=!0)},o(t){D(r.$$.fragment,t),o=!1},d(t){t&&m(n),s.d(),t&&m(e),K(r,t)}}}function Nt(n){let e;return{c(){e=g("You")},m(t,n){f(t,e,n)},p:t,d(t){t&&m(e)}}}function Lt(t){let n;return{c(){n=g(t[0])},m(t,e){f(t,n,e)},p(t,e){1&e&&b(n,t[0])},d(t){t&&m(n)}}}function Xt(t){let n,e;return{c(){n=d("div"),v(n,"class","other svelte-19boym8"),v(n,"style",e=""+t[10])},m(t,e){f(t,n,e)},p(t,r){16&r&&e!==(e=""+t[10])&&v(n,"style",e)},d(t){t&&m(n)}}}function Ft(t){let n;return{c(){n=g("Next player")},m(t,e){f(t,n,e)},d(t){t&&m(n)}}}function Pt(n){let e;return{c(){e=g("Hello!")},m(t,n){f(t,e,n)},p:t,d(t){t&&m(e)}}}function Tt(t){let n,e,r;return{c(){n=g("Hello, "),e=g(t[0]),r=g("!")},m(t,o){f(t,n,o),f(t,e,o),f(t,r,o)},p(t,n){1&n&&b(e,t[0])},d(t){t&&m(n),t&&m(e),t&&m(r)}}}function Yt(t){let n;return{c(){n=g("Reveal Role")},m(t,e){f(t,n,e)},d(t){t&&m(n)}}}function Ht(t){let n,e,r,o;const l=[St,qt],c=[];function s(t,n){return"preReveal"===t[3]?0:"reveal"===t[3]?1:-1}return~(e=s(t))&&(r=c[e]=l[e](t)),{c(){n=d("div"),r&&r.c(),v(n,"class","container svelte-19boym8")},m(t,r){f(t,n,r),~e&&c[e].m(n,null),o=!0},p(t,[o]){let i=e;e=s(t),e===i?~e&&c[e].p(t,o):(r&&(H(),D(c[i],1,1,(()=>{c[i]=null})),U()),~e?(r=c[e],r?r.p(t,o):(r=c[e]=l[e](t),r.c()),B(r,1),r.m(n,null)):r=null)},i(t){o||(B(r),o=!0)},o(t){D(r),o=!1},d(t){t&&m(n),~e&&c[e].d()}}}function Ut(t,n,e){let{name:r}=n,{role:o}=n,{color:l}=n,{othersColors:c}=n;const s=[11,22,30,35,39],i=z();let a,u="preReveal";return t.$$set=t=>{"name"in t&&e(0,r=t.name),"role"in t&&e(1,o=t.role),"color"in t&&e(2,l=t.color),"othersColors"in t&&e(7,c=t.othersColors)},t.$$.update=()=>{128&t.$$.dirty&&e(4,a=c.map(((t,n)=>n%2==0?`\n            top: ${50-(n/2+1)}%; left: ${50-s[n/2]}%; \n            transform: translateX(-50%) translateY(-50%) scale(${1-(n/2+1)/8}); \n            background-image: url(img/players/${st[t]}.png); \n            filter: brightness(${100-10*(n/2+1)}%);\n            z-index: ${10-n};\n            `:`\n            top: ${50-(n+1)/2}%; left: ${47+s[(n+1)/2-1]}%; \n            transform: translateX(-50%) translateY(-50%) scaleX(-1) scale(${1-(n/2+1)/8}); \n            background-image: url(img/players/${st[t]}.png); \n            filter: brightness(${100-10*((n+1)/2-1)}%);\n            z-index: ${10-n};\n          `))),128&t.$$.dirty&&console.log(c),8&t.$$.dirty&&"reveal"===u&&new Audio(`audio/${"revealSound"}.mp3`).play()},[r,o,l,u,a,function(){e(3,u="reveal")},function(){e(3,u="preReveal"),i("finished")},c]}class Bt extends W{constructor(t){super(),V(this,t,Ut,Ht,c,{name:0,role:1,color:2,othersColors:7})}}function Dt(n){let e;return{c(){e=d("p"),e.textContent="Loading...",v(e,"class","svelte-xdf0ma")},m(t,n){f(t,e,n)},p:t,i:t,o:t,d(t){t&&m(e)}}}function Gt(t){let e,r;const o=[t[2][t[1]],{othersColors:t[2].filter(t[3]).map(Jt)}];let l={};for(let t=0;t<o.length;t+=1)l=n(l,o[t]);return e=new Bt({props:l}),e.$on("finished",t[4]),{c(){I(e.$$.fragment)},m(t,n){J(e,t,n),r=!0},p(t,n){const r=6&n?function(t,n){const e={},r={},o={$$scope:1};let l=t.length;for(;l--;){const c=t[l],s=n[l];if(s){for(const t in c)t in s||(r[t]=1);for(const t in s)o[t]||(e[t]=s[t],o[t]=1);t[l]=s}else for(const t in c)o[t]=1}for(const t in r)t in e||(e[t]=void 0);return e}(o,[(l=t[2][t[1]],"object"==typeof l&&null!==l?l:{}),{othersColors:t[2].filter(t[3]).map(Jt)}]):{};var l;e.$set(r)},i(t){r||(B(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){K(e,t)}}}function It(t){let n,e,r,o;const l=[Gt,Dt],c=[];function s(t,n){return"revealing"===t[0]?0:1}return e=s(t),r=c[e]=l[e](t),{c(){n=d("div"),r.c(),v(n,"class","svelte-xdf0ma")},m(t,r){f(t,n,r),c[e].m(n,null),o=!0},p(t,[o]){let i=e;e=s(t),e===i?c[e].p(t,o):(H(),D(c[i],1,1,(()=>{c[i]=null})),U(),r=c[e],r?r.p(t,o):(r=c[e]=l[e](t),r.c()),B(r,1),r.m(n,null))},i(t){o||(B(r),o=!0)},o(t){D(r),o=!1},d(t){t&&m(n),c[e].d()}}}const Jt=t=>t.color;function Kt(t,n,e){let r;s(t,tt,(t=>e(5,r=t)));let o=function(t,n="default"){let e,r;if("default"===n){const n=t.length>=7?2:1;return e="crewmate",r={impostor:at(ut(0,t.length-1),n)},t.map(((t,n)=>{var e,o;return Object.assign(Object.assign({},t),{role:(null===(o=null===(e=Object.entries(r).filter((([t,e])=>e.includes(n))))||void 0===e?void 0:e[0])||void 0===o?void 0:o[0])||"crewmate"})}))}return[]}(r.players,"default");const l=z();let c="revealing",i=0;return t.$$.update=()=>{1&t.$$.dirty&&"postreveal"===c&&l("finished")},[c,i,o,t=>t.color!==o[i].color,()=>{i>=o.length-1?e(0,c="postreveal"):e(1,i++,i)}]}class Qt extends W{constructor(t){super(),V(this,t,Kt,It,c,{})}}function Vt(n){let e,r;return e=new Qt({}),e.$on("finished",n[2]),{c(){I(e.$$.fragment)},m(t,n){J(e,t,n),r=!0},p:t,i(t){r||(B(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){K(e,t)}}}function Wt(n){let e,r;return e=new At({}),e.$on("submit",n[1]),{c(){I(e.$$.fragment)},m(t,n){J(e,t,n),r=!0},p:t,i(t){r||(B(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){K(e,t)}}}function Zt(t){let n,e,r,o;const l=[Wt,Vt],c=[];function s(t,n){return"options"===t[0]?0:1}return e=s(t),r=c[e]=l[e](t),{c(){n=d("main"),r.c(),v(n,"class","svelte-jli6qf")},m(t,r){f(t,n,r),c[e].m(n,null),o=!0},p(t,[o]){let i=e;e=s(t),e===i?c[e].p(t,o):(H(),D(c[i],1,1,(()=>{c[i]=null})),U(),r=c[e],r?r.p(t,o):(r=c[e]=l[e](t),r.c()),B(r,1),r.m(n,null))},i(t){o||(B(r),o=!0)},o(t){D(r),o=!1},d(t){t&&m(n),c[e].d()}}}function tn(t,n,e){let r="options";return[r,()=>{e(0,r="reveal")},()=>{e(0,r="options")}]}return new class extends W{constructor(t){super(),V(this,t,tn,Zt,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
